<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content=" websites to find course in less than 60 seconds."
    />
    <meta property="og:title" content="Find Course... " />
    <meta property="og:description" content="Find Course... " />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="http://" />
    <meta property="og:url" content="https://Team.com" />
    <title>Find Course - Go Online for Just $9</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  </head>
  <body>
    <header>
      <nav class="nav collapsible">
        <!-- <a class="nav__brand" href="/"><img src="images/logo.svg" alt="" /></a> -->
        <svg class="icon icon--white nav__toggler">
          <use href="images/sprite.svg#menu"></use>
        </svg>
        <ul class="list nav__list collapsible__content">
          <li class="nav__item"><a href="#">Hosting</a></li>
          <li class="nav__item"><a href="#">VPS</a></li>
          <li class="nav__item"><a href="#">Domain</a></li>
          <li class="nav__item"><a href="#">Pricing</a></li>
        </ul>
      </nav>
    </header>
    <section class="block block--dark block--skewed-left hero">
      <div class="container grid grid--1x2">
        <header class="block__header hero__content">
          <h1 data-aos="fade-right" class="block__heading">
            Find the Right Course of your choice
          </h1>
          <p class="hero__tagline">
            Start Learning and Stop Searching.
          </p>
          <a href="" class="btn btn--accent btn--stretched">Get Started</a>
        </header>
        <picture data-aos="zoom-in">
          <source
            type="image/webp"
            srcset="images/banner.webp 1x, images/banner@2x.webp 2x"
          />
          <source
            type="image/png"
            srcset="images/banner.png 1x, images/banner@2x.png 2x"
          />
          <img class="hero__image" src="images/banner.png" alt="" />
        </picture>
      </div>
    </section>
    <section data-aos="fade-up" class="block container block-domain">
      <header class="block__header">
        <h2>Starting at $9 per month</h2>
        <p>
          Start Searching for the course Now!
        </p>
      </header>

      <div class="input-group">
        <button id="voice-input-btn">
          <i class="fa fa-microphone"></i>
        </button>
        <input
          type="text"
          class="input"
          id="text-input"
          placeholder="Enter the course details.."
        />
        <button class="btn btn--accent" id="submit-btn">
          <svg class="icon icon--white">
            <use href="images/sprite.svg#search"></use></svg > Submit
        </button>
      </div>
      </section>
      <div id="answer"></div>
      <div id="answer-box"></div>
      </div>
      
    
    </footer>
    <script src="js/main.js"></script>
    <script src="js/fuzzyset.js"></script>
    <!-- <script src="js/server.js"></script> -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <!-- <script src='//www.aa.com/jquery.js'></script>  -->

    <script>
      AOS.init();
    </script>
    <script>
      
      var isClose=true;
        const stopwords = ["of", "the", "a", "an", "are","any", "is", "can", "who", "what", "why", "whom","available"];
        var editor = "sorts\n" +
            "  #courses={theCompletePythonBootcampFromZeroToHeroInPython, automateTheBoringStuffWithPythonProgramming, entrepreneurshipAndBusinessLifeCoachCertification, salesAndPersuasionSkillsForStartups, howToMarketYourselfAsACoachOrConsultant, googleAdsForBeginners, theSecretsToDrawing,learnToPaintWithImpact, javaProgrammingForCompleteBeginners}.\n"+
            "  #instructors={josePortilla,alSweigart,joeel,lenSmith,debbieLaChusa, correyRabazinski, matthewFussell, malcomDewey, in28MinutesOfficial}.\n"+
            "  #prices={199,49,139,59,159,119,29,89,19}.\n"+
            "  #categories={development,business,marketing,lifestyle}.\n"+
            "  #duration={22,11,33,9,3,5,6,7}.\n"+
            "  #programming={python, java}.\n"+
            "  #vendor={udemy}.\n"+
            "predicates\n" +
            "  instructor(#instructors).\n"+
            "  course(#courses).\n"+
            "  price(#prices).\n"+
            "  programminglanguage(#programming).\n"+
            "  programmingcourse(#courses, #programming).\n"+
            "  courseprice(#courses, #prices).\n"+
            "  courseinstructor(#courses,#instructors).\n"+
            "  coursecategory(#courses,#categories).\n"+
            "  courseduration(#courses,#duration).\n"+
            "  courseavailableon(#courses,#vendor).\n"+
            "rules\n" +
            "  programminglanguage(python).\n"+
            "  programminglanguage(java).\n"+
            "  instructor(josePortilla).\n"+
            "  course(theCompletePythonBootcampFromZeroToHeroInPython).\n"+
            "  courseprice(theCompletePythonBootcampFromZeroToHeroInPython,199).\n"+
            "  programmingcourse(theCompletePythonBootcampFromZeroToHeroInPython, python).\n"+
            "  courseinstructor(theCompletePythonBootcampFromZeroToHeroInPython,josePortilla).\n"+
            "  coursecategory(theCompletePythonBootcampFromZeroToHeroInPython,development).\n"+
            "  courseduration(theCompletePythonBootcampFromZeroToHeroInPython, 22).\n"+
            "  courseavailableon(theCompletePythonBootcampFromZeroToHeroInPython,udemy).\n"+
            "  instructor(alSweigart).\n"+
            "  course(automateTheBoringStuffWithPythonProgramming).\n"+
            "  programmingcourse(theCompletePythonBootcampFromZeroToHeroInPython, python).\n"+
            "  courseprice(automateTheBoringStuffWithPythonProgramming,49).\n"+
            "  courseinstructor(automateTheBoringStuffWithPythonProgramming, alSweigart).\n"+
            "  coursecategory(automateTheBoringStuffWithPythonProgramming, development).\n"+
            "  courseduration(automateTheBoringStuffWithPythonProgramming,9).\n"+
            "  courseavailableon(automateTheBoringStuffWithPythonProgramming,udemy).\n"+
            "  instructor(in28MinutesOfficial).\n"+
            "  course(javaProgrammingForCompleteBeginners).\n"+
            "  programmingcourse(javaProgrammingForCompleteBeginners, java).\n"+
            "  courseprice(javaProgrammingForCompleteBeginners, 19).\n"+
            "  courseinstructor(javaProgrammingForCompleteBeginners, in28MinutesOfficial).\n"+
            "  coursecategory(javaProgrammingForCompleteBeginners, development ).\n"+
            "  courseduration(javaProgrammingForCompleteBeginners, 33).\n"+
            "  instructor(joeel).\n"+
            "  course(entrepreneurshipAndBusinessLifeCoachCertification).\n"+
            "  courseprice(entrepreneurshipAndBusinessLifeCoachCertification, 139).\n"+
            "  courseinstructor(entrepreneurshipAndBusinessLifeCoachCertification,joeel).\n"+
            "  coursecategory(entrepreneurshipAndBusinessLifeCoachCertification,business).\n"+
            "  courseduration(entrepreneurshipAndBusinessLifeCoachCertification, 11).\n"+
            "  courseavailableon(entrepreneurshipAndBusinessLifeCoachCertification, udemy).\n"+
            "  instructor(lenSmith).\n"+
            "  course(salesAndPersuasionSkillsForStartups).\n"+
            "  courseprice(salesAndPersuasionSkillsForStartups,59).\n"+
            "  courseinstructor(salesAndPersuasionSkillsForStartups, lenSmith).\n"+
            "  coursecategory(salesAndPersuasionSkillsForStartups,business).\n"+
            "  courseduration(salesAndPersuasionSkillsForStartups,3).\n"+
            "  courseavailableon(salesAndPersuasionSkillsForStartups,udemy).\n"+
            "  instructor(debbieLaChusa).\n"+
            "  course(howToMarketYourselfAsACoachOrConsultant).\n"+
            "  courseprice(howToMarketYourselfAsACoachOrConsultant,159).\n"+
            "  courseinstructor(howToMarketYourselfAsACoachOrConsultant, debbieLaChusa).\n"+
            "  coursecategory(howToMarketYourselfAsACoachOrConsultant, marketing).\n"+
            "  courseduration(howToMarketYourselfAsACoachOrConsultant, 5).\n"+
            "  courseavailableon(howToMarketYourselfAsACoachOrConsultant, udemy).\n"+
            "  instructor(correyRabazinski).\n"+
            "  course(googleAdsForBeginners).\n"+
            "  courseprice(googleAdsForBeginners,119).\n"+
            "  courseinstructor(googleAdsForBeginners, correyRabazinski).\n"+
            "  coursecategory(googleAdsForBeginners, marketing).\n"+
            "  courseduration(googleAdsForBeginners,5).\n"+
            "  courseavailableon(googleAdsForBeginners,udemy).\n"+
            "  instructor(matthewFussell).\n"+
            "  course(theSecretsToDrawing).\n"+
            "  courseprice(theSecretsToDrawing,29).\n"+
            "  courseinstructor(theSecretsToDrawing, correyRabazinski).\n"+
            "  coursecategory(theSecretsToDrawing, lifestyle).\n"+
            "  courseduration(theSecretsToDrawing,6).\n"+
            "  courseavailableon(theSecretsToDrawing,udemy).\n"+
            "  instructor(malcomDewey).\n"+
            "  course(learnToPaintWithImpact).\n"+
            "  courseprice(learnToPaintWithImpact,89).\n"+
            "  courseinstructor(learnToPaintWithImpact,malcomDewey).\n"+
            "  coursecategory(learnToPaintWithImpact,lifestyle).\n"+
            "  courseduration(learnToPaintWithImpact, 7).\n"+
            "  courseavailableon(learnToPaintWithImpact,udemy).\n";

        // sorts
        var contstring = editor.split("sorts\n")[1].split("predicates\n");
        var sortstring = contstring[0].split('.');
        sortstring.splice(-1, 1);
        var sorts = {};
        sortstring = sortstring.map(d => d.replace(/\n/g, '').trim()).forEach(d => {
            var par = d.split("=");
            sorts[par[0].replace(/#/, '').trim()] = par[1].replace(/{|}/g, '').split(',').map(w => w.trim())
        });
        // predicates
        var predicates = {};
        contstring = contstring[1].split("rules\n");
        sortstring = contstring[0].split('.');
        sortstring.splice(-1, 1);
        sortstring.forEach(d => {
            var part = d.replace(/\n/g, '').trim().split('(');
            var func = part[0];
            predicates[func] = {};
            var par = part[1].split(',').map(e => e.replace(/#|\)/g, '').trim());
            var par1 = sorts[par[0]].slice();
            par1.push("X");
            par.splice(0, 1);
            par1.forEach(e => {
                var strinh = (e == 'X' ? '' : (e + ' ')) + func;
                predicates[func][strinh] = func + "(" + e + ")";
                par.forEach(par2 => {
                    var temp = sorts[par2].slice();
                    temp.push("X");
                    temp.forEach(t => {
                        var strinh = (e == 'X' ? '' : (e + ' ')) + func + (t == 'X' ? '' : (' ' + t));
                        // if (strinh != fubnc)
                        predicates[func][strinh] = func + "(" + e + "," + t + ")";
                    })
                });
            });
        });


        var all_predicates = [];
        for (var key1 in predicates) {
            if (predicates.hasOwnProperty(key1)) {
                for (var key2 in predicates[key1]) {
                    if (predicates[key1].hasOwnProperty(key2))
                        all_predicates.push(key2);
                }
            }

        }
        all_predicates.push('speak spanish'); // extra terms
        a = FuzzySet(all_predicates);
      
      // console.log(all_predicates)
      console.log("The value of a",a)
      
      
      // Speech recognition API
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      const recognition = new SpeechRecognition();
      recognition.lang = 'en-US';

      // Get DOM elements
      const answerDiv = document.querySelector('#answer');
      const voiceBtn = document.getElementById('voice-input-btn');
      const textInput = document.getElementById('text-input');
      const submitBtn = document.getElementById('submit-btn');
      const answerBox = document.getElementById('answer-box');

      submitBtn.addEventListener('click', () => {
        alert('Button clicked');
        console.log("Button clicked")
        const question = textInput.value;
        if (question.trim() === '') {
          answerBox.innerHTML = 'Please ask a question.';
          return;
        }
        console.log("questionr",question);
        var trim_script = question.split(" ");
        console.log("trim_script",trim_script);
        trim_script = trim_script.filter(f => !stopwords.includes(f));
        console.log("trim_script after filter",trim_script);
        var queryQues = a.get(trim_script.join(" "), null, 0.5); 
        console.log("From Button event calling get answer");
        console.log("From Button event calling get answer query question",queryQues);
        getAnswer(queryQues);
        
      });

      // Handle speech recognition
      recognition.onresult = event => {
        const resultIndex = event.resultIndex;
        const transcript = event.results[resultIndex][0].transcript;
        textInput.value = transcript;
        
        var trim_script = transcript.split(" ");
        trim_script = trim_script.filter(f => !stopwords.includes(f));
        var queryQues = a.get(trim_script.join(" "), null, 0.5);
        console.log("Query answer",queryQues);
        getAnswer(queryQues);
      };

      // Handle click on voice input button     
      function startSpeechRecognition() {
        recognition.start();
      }
      voiceBtn.addEventListener('click', startSpeechRecognition);


      function getAnswer(question) {
        console.log("we are going to gte answer")
        if (question!=null) {
                var mainkey = question[0][1].replace('speak ','');
                var answerarr = mainkey.split(' ');
                var key1 = '';
                answerarr.forEach(d => {
                    key1 = (predicates[d] != undefined) ? d : key1;
                });
                //var key1 = answerarr.length>2? answerarr[1]:answerarr[0];
                var key2 = mainkey;
                console.log(key1 +'-'+ key2);
                console.log(predicates[key1][key2]);
                
                var data = {
                    'action': "getQuery",
                    'query': predicates[key1][key2],
                    'editor': editor
                };
          
          console.log(data)
          
          
          
          $.ajax({
          url: "https://cors-anywhere.herokuapp.com/http://wave.ttu.edu/ajax.php",
          type: "POST",
          headers: {
            "X-Requested-With": "XMLHttpRequest",
            "Access-Control-Allow-Origin" :"*",
            "Access-Control-Allow-Methods" :"GET,POST"
          },
          data: {
            action: "getQuery",
            query: predicates[key1][key2],
            editor: editor
          },
          success: function(response) {
            console.log("response",response);
             const answer = response || 'Sorry, I could not find an answer.';
             answerDiv.innerHTML = answer;
             answerBox.innerHTML = answer;
          },
          error: function(xhr, status, error) {
            console.log("error: " + error);
          }
        });

            }
        }
    </script>
  </body>
</html>


